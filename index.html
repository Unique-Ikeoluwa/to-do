<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/style.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <title>UniTodo Registration</title>
</head>
<body>
  <div class="bg-[url('/todo-img/fav.png')] h-screen bg-cover bg-center">
    <div class="flex flex-row items-center justify-between p-3 md:p-7">
        <div class=" bg-gradient-to-r from-pink-300 to-[#b31e37] bg-clip-text text-transparent text-3xl font-semibold">
          <a href="home.html">UniT<span class="text-3xl">odo</span></a>
        </div>
        <div class="hidden pr-3 text-base gap-6 md:pr-32 font-bold md:flex flex-row md:gap-9 items-center">
          <span class="text-xs md:text-base font-medium flex flex-row gap-5 items-center">Already have an account? <a href="/dist/login.html" class="md:text-xl font-bold hover:text-2xl hover:ease-in-out hover:delay-300">Sign in</a></span>
          <a href="" class="md:text-xl focus:underline hover:text-2xl hover:ease-in-out hover:delay-300">Help Center</a>
        </div>
        <div class="md:hidden pr-3 text-base gap-6 font-bold flex flex-row items-center">
          <a href="/dist/login.html" class="hover:text-2xl hover:ease-in-out hover:delay-300">Sign in</a>
          <a href="" class="focus:underline hover:text-2xl hover:ease-in-out hover:delay-300">Help Center</a>
        </div> 
    </div>
  
    <div class="flex flex-col border-[#b31e37] border-2 justify-center shadow-lg mt-9 md:mt-7 mx-[30px] md:mx-auto max-w-4xl w-auto h-4/5 md:h-3/4 px-1 py-1 md:px-6 md:py-2 bg-[#ffedf0] rounded-lg">
        <div class="flex justify-center">
            <div class="p-2 m-2 h-14 w-72 md:p-4 md:m-2 bg-gradient-to-r from-[#ffedf0] via-[#ffffff] to-[#ffe8ec] shadow-md text-center md:h-20 md:w-[550px]">
                <h2 class="text-2xl md:text-4xl font-bold text-black">UniTodo Registration</h2>
            </div>
        </div>
        <p id="textCenter" class="text-[#f00a31] mx-4 md:mx-0 md-ml-40 pt-2"></p>
        <form class="flex flex-col md:w-full w-auto max-w-md mx-4 md:mx-0 md:ml-40 pt-3">
            <label id="fullname1">Fullname</label> 
            <input type="text" id="fullname" class="p-2 text-base border border-[#b31e37] h-10 ml-10 hover:border-2  hover:ease-in-out hover:delay-200 focus:outline-none focus:border-blue-500">
            <label id="email-address1">Email address</label> 
            <input type="email" id="email-address" class="p-2 text-base border border-[#b31e37] h-10 ml-10 hover:border-2  hover:ease-in-out hover:delay-200 focus:outline-none focus:border-blue-500">
            <label id="Phone-number1">Phone number</label> 
            <input type="number" id="Phone-number" class="p-2 text-base border border-[#b31e37] h-10 ml-10 hover:border-2  hover:ease-in-out hover:delay-200 focus:outline-none focus:border-blue-500">
            <Label id="DOB1">Date of birth</Label> 
            <input type="date" id="DOB" class="p-2 text-base border border-[#b31e37] h-10 ml-10 hover:ease-in-out hover:border-2  hover:delay-200 focus:outline-none focus:border-blue-500">
            <label id="gender">Gender</label>
            <div class="flex flex-row gap-3 ml-8">
                <label>Male <input type="radio" name="gender" value="Male" class="accent-[#b31e37]"></label>
                <label>Female <input type="radio" name="gender" value="Female" class="accent-[#b31e37]"></label>
                <label>Others <input type="radio" name="gender" value="Others" class="accent-[#b31e37]"></label>
            </div>
            <label id="password1" class="flex justify-between">Password <span id="showPass">üëÅÔ∏è</span></label>
            <input type="password" name="password" id="password" class="p-2 text-base border border-[#b31e37] h-10 ml-10 hover:border-2 hover:ease-in-out hover:delay-200 focus:outline-none focus:border-blue-500"><br>
            <div class="flex flex-row gap-3">
              <input type="submit" value="Submit" class="py-2 px-2 w-1/2 mb-3 ml-10 rounded-[7px] shadow-lg bg-gradient-to-r from-pink-300 to-[#b31e37] border border-[#ffe8ec] hover:font-medium">
              <input type="reset" value="Clear" class="py-2 px-2 w-1/2 mb-3 ml-10 rounded-[7px] shadow-lg bg-gradient-to-r from-pink-300 to-[#b31e37] border border-[#ffe8ec] hover:font-medium">
            </div>
        </form>
        <div id="details" class="mt-4 mx-10 md:mx-auto w-[300px] md:ml-40 text-sm md:text-base text-black bg-white p-4 rounded shadow-md border border-[#b31e37] hidden"></div>
    </div>
    <img src="/todo-img/images__9_-removebg-preview.png" alt="" class="w-20 bottom-6 left-6 md:block relative md:w-[150px] md:bottom-6 lg:bottom-72 lg:w-[300px] lg:left-auto">
  </div>
  <script>
    let form = document.querySelector('form')
    let submit = document.querySelector('input[type=submit]')
    submit.addEventListener('click', (e) => {
      e.preventDefault()
      let spans = form.querySelectorAll('span')
      if (spans.length > 0){
        spans.forEach(span => { 
        span.remove()
        })
      };
      let isValid = true
      let fullname = form.querySelector("input[type='text']").value
      let email = form.querySelector("input[type='email']").value
      let phone = form.querySelector("input[type='number']").value
      let dateBirth = form.querySelector("input[type='date']").value
      let gender = form.querySelector("input[name='gender']:checked")     
      let password = form.querySelector("input[type='password']").value
      let birthYear = new Date(dateBirth).getFullYear();
      let currentYear = new Date().getFullYear();
      let age = currentYear - birthYear

      if (!fullname){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Fullname can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("fullname1").appendChild(span)
      }
      if (!email){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Email can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("email-address1").appendChild(span)
      } else {
        let validEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)
        if (!validEmail){
          isValid =false
          let span = document.createElement("span")
          span.innerText = ' Email is invalid'
          span.style.color = '#f00a31'
          document.getElementById("email-address1").appendChild(span)
          }
      }
      if (!phone){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Phone number can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("Phone-number1").appendChild(span)
      }
      if (!dateBirth){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Date of birth can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("DOB1").appendChild(span)
      } else {
        if (age < 19){
          isValid = false
          let span = document.createElement("span")
          span.innerText = ' User must be above 18'
          span.style.color = '#f00a31'
          document.getElementById("DOB1").appendChild(span)
          }
      }
      if (!gender || gender.value !== "Female"){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Only female users allowed'
        span.style.color = '#f00a31'
        document.getElementById("gender").appendChild(span)
      }
      if (!password){
        isValid = false
        let span = document.createElement("span")
        span.innerText = 'Password can not be empty'
        span.style.color = '#f00a31'
        document.getElementById("password1").appendChild(span)
      } else {
      if (password.length < 8){
        isValid = false
        let span = document.createElement("span")
        span.innerText = ' Password must be at least 8 characters'
        span.style.color = '#f00a31'
        document.getElementById("password1").appendChild(span)
      }
        let hasNum = /[0-9]/.test(password)
        let hasCap = /[A-Z]/.test(password)
        let hasSmall = /[a-z]/.test(password)
        let symbol = /[!@#$%^&*(),.<>?":|{}"]/.test(password)
        if (!hasNum || !hasCap || !hasSmall || !symbol ){
          isValid = false
          let span = document.createElement("span")
          span.innerText = 'Password must contain characters, number, capital & small letter'
          span.style.color = '#f00a31'
          document.getElementById("password1").appendChild(span)
        }
      }
      if (isValid){
        form.style.display = "none"
        let details = document.getElementById("details")
        details.classList.remove("hidden")
        details.innerHTML = `<h2 class="text-xl font-bold mb-2 text-[#b31e37]">Submitted Details</h2><ul class="list-disc ml-6"><li><strong>Fullname:</strong> ${fullname}</li><li><strong>Email:</strong> ${email}</li><li><strong>Phone:</strong> ${phone}</li><li><strong>Date of Birth:</strong> ${dateBirth}</li><li><strong>Gender:</strong> ${gender.value}</li></ul>`
      } else {
        document.getElementById("textCenter").innerText = 'Please correct highlighted error(s)'
      }
    })
    let showPassword = document.getElementById("showPass")
    showPassword.addEventListener('click', (e) => {
      e.preventDefault()
      let pass = form.querySelector("input[name='password']")
      if (pass.type == "password"){
        showPassword.innerHTML = `<i class='bx bx-low-vision'></i>`
        pass.type = "text"
      } else {
        showPassword.innerText = 'üëÅÔ∏è'
        pass.type = "password"
      }
    })
  </script>
</body>
</html>